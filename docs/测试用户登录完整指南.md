# ğŸ§ª KONATABLOG ç”¨æˆ·ç™»å½•æµ‹è¯•å®Œæ•´æŒ‡å—

## âœ… å½“å‰çŠ¶æ€

- **Spring Bootåº”ç”¨**: è¿è¡Œåœ¨ `http://localhost:8081`
- **æ•°æ®åº“**: SQLiteæ–‡ä»¶ `data/konatablog.db`
- **ç”¨æˆ·è¡¨**: å·²åˆ›å»ºï¼ŒåŒ…å«adminç”¨æˆ·
- **é—®é¢˜**: BCryptå¯†ç å“ˆå¸Œåœ¨å‘½ä»¤è¡Œä¸­è¢«è½¬ä¹‰

## ğŸ”§ è§£å†³æ–¹æ¡ˆ1: ä½¿ç”¨Postman/å›¾å½¢ç•Œé¢

### ç”¨æˆ·å‡­æ®
```
ç”¨æˆ·å: admin
å¯†ç : admin123
```

### Postmanæµ‹è¯•æ­¥éª¤

1. **åˆ›å»ºæ–°è¯·æ±‚**
   - Method: `POST`
   - URL: `http://localhost:8081/api/auth/login`
   - Headers: `Content-Type: application/json`

2. **è¯·æ±‚ä½“**
```json
{
  "username": "admin",
  "password": "admin123"
}
```

3. **é¢„æœŸæˆåŠŸå“åº”**
```json
{
  "success": true,
  "data": {
    "token": "eyJhbGciOiJIUzUxMiJ9...",
    "user": {
      "id": 1,
      "username": "admin",
      "email": "admin@blog.com",
      "nickname": "åšä¸»å°ç‹",
      "role": "ADMIN",
      "avatar": null,
      "isActive": true
    }
  },
  "message": "ç™»å½•æˆåŠŸ"
}
```

## ğŸ”§ è§£å†³æ–¹æ¡ˆ2: ä½¿ç”¨æ­£ç¡®çš„BCryptå¯†ç 

ç”±äºå‘½ä»¤è¡Œè½¬ä¹‰é—®é¢˜ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹SQLç›´æ¥æ›´æ–°å¯†ç ï¼š

```sql
-- è¿æ¥åˆ°æ•°æ®åº“
sqlite3 data/konatablog.db

-- æ›´æ–°å¯†ç  (æ˜æ–‡: 123456)
UPDATE users SET password = '$2a$10$dXJ3SW6G7P97pGH7Ge8KOOvP17QH8uBdZf6THNgBEv8p8g5pLQOy.' WHERE username = 'admin';
```

ç„¶åæµ‹è¯•ï¼š
```bash
curl -X POST http://localhost:8081/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "123456"}'
```

## ğŸ”§ è§£å†³æ–¹æ¡ˆ3: ä½¿ç”¨DataInitializer

æˆ‘ä»¬ä¹‹å‰åˆ›å»ºäº†`DataInitializer.java`ï¼Œåº”è¯¥ä¼šè‡ªåŠ¨åˆ›å»ºæµ‹è¯•ç”¨æˆ·ã€‚åˆ é™¤æ•°æ®åº“é‡å¯åº”ç”¨ï¼š

```bash
# åˆ é™¤æ—§æ•°æ®åº“
rm data/konatablog.db

# é‡å¯åº”ç”¨
./mvnw spring-boot:run
```

åº”ç”¨ä¼šè‡ªåŠ¨åˆ›å»ºç”¨æˆ·: `admin/admin123`

## ğŸ“‹ å®Œæ•´æµ‹è¯•æµç¨‹

### 1. åŸºç¡€è¿æ¥æµ‹è¯•
```bash
curl http://localhost:8081/api/auth/validate
# é¢„æœŸ: {"success":true,"data":false,"message":"Tokenä¸å­˜åœ¨"}
```

### 2. ç™»å½•æµ‹è¯• (æˆåŠŸåä¿å­˜Token)
```bash
# ä½¿ç”¨Postmanæ­£ç¡®æµ‹è¯•ï¼Œæˆ–è€…ä¿®å¤å¯†ç åç”¨curl
```

### 3. è·å–ç”¨æˆ·ä¿¡æ¯ (ä½¿ç”¨ä¸Šé¢è·å¾—çš„Token)
```bash
curl -X GET http://localhost:8081/api/auth/profile \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

### 4. TokenéªŒè¯
```bash
curl -X GET http://localhost:8081/api/auth/validate \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

### 5. ç™»å‡ºæµ‹è¯•
```bash
curl -X POST http://localhost:8081/api/auth/logout \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

## ğŸ› æ•…éšœæ’é™¤

### å¦‚æœç™»å½•ä¸€ç›´å¤±è´¥ï¼š

1. **æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æ­£ç¡®åˆ›å»º**
```bash
sqlite3 data/konatablog.db "SELECT username, email FROM users WHERE username='admin';"
```

2. **æ£€æŸ¥åº”ç”¨æ—¥å¿—**
```bash
./mvnw spring-boot:run
# æŸ¥çœ‹å¯åŠ¨æ—¶çš„ç”¨æˆ·åˆ›å»ºæ—¥å¿—
```

3. **ä½¿ç”¨Postmanæ›¿ä»£æ–¹æ¡ˆ**
   - ä¸‹è½½Postman: https://www.postman.com/downloads/
   - å¯¼å…¥æä¾›çš„Collection
   - æµ‹è¯•ç™»å½•æ¥å£

4. **éªŒè¯BCryptå¯†ç **
```bash
# åœ¨Javaä¸­æµ‹è¯•å¯†ç ç¼–ç éªŒè¯
# å¯èƒ½æ˜¯BCryptç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜
```

## ğŸ¯ æ¨èçš„æµ‹è¯•æ–¹æ³•

**ä½¿ç”¨Postmanæ˜¯æœ€å¯é çš„æ–¹æ³•**ï¼Œå› ä¸ºï¼š
1. é¿å…äº†å‘½ä»¤è¡Œè½¬ä¹‰é—®é¢˜
2. å¯ä»¥ç›´æ¥æŸ¥çœ‹å’Œå¤åˆ¶å“åº”Token
3. æ”¯æŒç¯å¢ƒå˜é‡ç®¡ç†
4. ç•Œé¢å‹å¥½ï¼Œè°ƒè¯•æ–¹ä¾¿

## ğŸ“± å¿«é€ŸéªŒè¯

å¦‚æœä¸Šè¿°æ–¹æ³•éƒ½ä¸è¡Œï¼Œå¯ä»¥ç”¨æœ€ç®€å•çš„æ–¹å¼ï¼š

1. åœæ­¢å½“å‰åº”ç”¨
2. åˆ é™¤æ•°æ®åº“: `rm data/konatablog.db`
3. é‡æ–°å¯åŠ¨: `./mvnw spring-boot:run`
4. DataInitializerä¼šåˆ›å»ºç”¨æˆ·: `admin/admin123`
5. åœ¨Postmanä¸­æµ‹è¯•ç™»å½•

---

**åº”ç”¨åœ°å€**: http://localhost:8081
**æµ‹è¯•è´¦æˆ·**: admin / admin123
**APIæ–‡æ¡£**: `docs/Controllerå±‚è®¾è®¡æ–‡æ¡£.md`

ğŸ‰ **å¼€å§‹æµ‹è¯•å§ï¼**